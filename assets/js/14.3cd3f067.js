(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{323:function(a,s,t){"use strict";t.r(s);var e=t(7),n=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"paas-平台部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#paas-平台部署"}},[a._v("#")]),a._v(" PaaS 平台部署")]),a._v(" "),s("p",[a._v("SeaMoon 的服务端其实支持部署到多种 PaaS 类型的平台")]),a._v(" "),s("h2",{attrs:{id:"部署到sealos-拥抱更便宜、更舒适、更优美可控的云服务平台"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署到sealos-拥抱更便宜、更舒适、更优美可控的云服务平台"}},[a._v("#")]),a._v(" 部署到Sealos: 拥抱更便宜、更舒适、更优美可控的云服务平台")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://cloud.sealos.io/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Sealos公有云地址"),s("OutboundLink")],1)]),a._v(" "),s("p",[a._v("先说下我喜欢Sealos的原因：")]),a._v(" "),s("p",[s("font",{attrs:{color:"pink"}},[s("b",[a._v("简单的页面，适合新手小白，无需了解过多的云服务相关知识")])])],1),a._v(" "),s("p",[s("font",{staticStyle:{fontSize:"small"}},[a._v("操作起来和操作一个os一样，点击、配置、部署，一气呵成。 对比各大厂的balabala一堆限制，sealos的门槛更低，更适合小白上手。 ")])],1),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/b792343632554e7fab560b74d3fb57b7.png",alt:"sealos-dashboard"}})]),a._v(" "),s("p",[s("font",{attrs:{color:"pink"}},[s("b",[a._v("简单易懂的计费方式：花费更低，效果不变")])])],1),a._v(" "),s("p",[s("font",{staticStyle:{fontSize:"small"}},[a._v("对比各大厂花里胡哨的各项计费指标（尤其是流量也要收费），sealos的计费方式真正的做到按照计算量计费，费用透明，整体使用下来价格更低。")])],1),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/31c6d9dae9534812b909e1a5f9cf3df8.png",alt:"sealos-app"}})]),a._v(" "),s("p",[s("font",{attrs:{color:"pink"}},[s("b",[a._v("配置更加灵活：不用了pause、用的时候start、想要多少的IP自行可控")])])],1),a._v(" "),s("p",[s("font",{staticStyle:{fontSize:"small"}},[a._v("sealos支持快速弹性扩容，当需求高时，可以调低扩容触发点，获取到更多IP 当不需要使用时，可以快速的pause停止；下次使用时又能快速的恢复。")])],1),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/500897ae5b5f48d9b20f18d3f3eaa7ea.png",alt:"sealos-container"}})]),a._v(" "),s("h3",{attrs:{id:"如何部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何部署"}},[a._v("#")]),a._v(" 如何部署")]),a._v(" "),s("p",[a._v("sealos上部署seamoon服务将更加简单，只需要鼠标点击操作：")]),a._v(" "),s("h4",{attrs:{id:"step-1-注册账户"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-1-注册账户"}},[a._v("#")]),a._v(" Step.1 注册账户")]),a._v(" "),s("p",[a._v("注册并登陆"),s("a",{attrs:{href:"https://cloud.sealos.io/",target:"_blank",rel:"noopener noreferrer"}},[a._v("cloud.sealos.io"),s("OutboundLink")],1),a._v(", 点击"),s("code",[a._v("App Launchpad")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/4bfbdf9f9ad5440b91ec85831c062b07.png",alt:"sealos-applanch"}})]),a._v(" "),s("h4",{attrs:{id:"step-2-部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-2-部署"}},[a._v("#")]),a._v(" Step.2 部署")]),a._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("注意")]),a._v(" "),s("p",[a._v("sealos 并不是部署一个服务 就带着两种类型的隧道。因此，如果你希望使用 websocket 隧道, 需要部署 websocket 类型的服务。")]),a._v(" "),s("p",[a._v("同样的，如果你需要 grpc 隧道，选择部署 grpc 服务。")])]),a._v(" "),s("p",[a._v("点击右上角"),s("code",[a._v("create application")]),a._v(", 如下填写参数:")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/f331255e64724bba8d84add292cae6e0.png",alt:"sealos-config"}})]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),s("p",[a._v("此处，如果你部署的是 grpc 隧道的话，请将端口改为 8089，协议选择 grpc, 如下图：\n"),s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/68f55dbfb40d4310b9aae6674d335817.png",alt:"sealos-config-grpc"}})])]),a._v(" "),s("p",[a._v("往下拉，还有高级配置里面的启动命令：")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/7c92e240241845869b6b796d42ff1e31.png",alt:"sealos-config-2"}})]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),s("p",[a._v("此处，如果你部署的是 grpc 隧道的话，请修改此处的启动命令为：\n"),s("code",[a._v("/app/seamoon server -p 8089 -t grpc")]),a._v(" , 如下图:\n"),s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/608d9fcde8684d5cb19940bb33e90a4a.png",alt:"sealos-config-grpc-2"}})])]),a._v(" "),s("p",[a._v("你也可以直接选择yaml文件，参考如下：")]),a._v(" "),s("blockquote",[s("p",[a._v("注意，下面的 yaml 仅供参考，我隐去了一些身份相关的字段，没有展示出来，只列出了一些关键的项目。\n可以用于参考和对比。没出现的参数代表意义不大，不用管。")])]),a._v(" "),s("code-group",[s("code-block",{attrs:{title:"service.yaml",active:""}},[s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("apiVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" v1\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Service\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" seamoon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("ws\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("labels")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cloud.sealos.io/app-deploy-manager")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" seamoon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("ws\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9000")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("targetPort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9000")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("selector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" seamoon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("ws\n")])])])]),a._v(" "),s("code-block",{attrs:{title:"deployment.yaml"}},[s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("apiVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" apps/v1\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Deployment\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" seamoon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("server\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("annotations")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("originImageName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" dvkunion/seamoon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("server"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("latest\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("deploy.cloud.sealos.io/minReplicas")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'1'")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("deploy.cloud.sealos.io/maxReplicas")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'1'")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("deploy.cloud.sealos.io/resize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 0Gi\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("labels")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cloud.sealos.io/app-deploy-manager")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" seamoon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("server\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" seamoon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("server\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("replicas")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("revisionHistoryLimit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("selector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("matchLabels")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" seamoon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("server\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("strategy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" RollingUpdate\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("rollingUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("maxUnavailable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("maxSurge")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("labels")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("app")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" seamoon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("server\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("containers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" seamoon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("server\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" dvkunion/seamoon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("server"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("latest\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("env")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" serverMod\n              "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" socks5\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("resources")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("requests")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n              "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cpu")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 10m\n              "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("memory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 6Mi\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("limits")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n              "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cpu")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 100m\n              "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("memory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 64Mi\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("ports")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("containerPort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9000")]),a._v("\n              "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("''")]),a._v("\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("imagePullPolicy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Always\n          "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumeMounts")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n")])])])]),a._v(" "),s("code-block",{attrs:{title:"ingress.yaml"}},[s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("apiVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" networking.k8s.io/v1\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Ingress\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" network"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("xxxxxxxx\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("labels")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cloud.sealos.io/app-deploy-manager")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" seamoon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("ws\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("annotations")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("kubernetes.io/ingress.class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" nginx\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("nginx.ingress.kubernetes.io/proxy-body-size")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 32m\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("nginx.ingress.kubernetes.io/proxy-read-timeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'3600'")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("nginx.ingress.kubernetes.io/proxy-send-timeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'3600'")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("nginx.ingress.kubernetes.io/backend-protocol")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" WS\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("rules")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("host")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"*****"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 系统自动生成")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("paths")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("pathType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" Prefix\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("path")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" /\n            "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("backend")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n              "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("service")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" seamoon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("ws\n                "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("port")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n                  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("number")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9000")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("tls")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("hosts")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("  "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"*****"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 系统自动生成")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("secretName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" wildcard"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("cloud"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("sealos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("io"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("cert\n")])])])])],1),a._v(" "),s("h4",{attrs:{id:"step-3-本地客户端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-3-本地客户端"}},[a._v("#")]),a._v(" Step.3 本地客户端")]),a._v(" "),s("p",[a._v("填写完成后，点击右上角 "),s("code",[a._v("Deploy")]),a._v(", 等待部署完成，状态success后，获取到服务地址。")]),a._v(" "),s("p",[a._v("然后在本地启动客户端，推荐 docker 一键拉起:")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--net")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("host dvkunion/seamoon proxy\n")])])]),s("p",[a._v("默认使用"),s("code",[a._v("--net=host")]),a._v("模式, 如需要高级设置，如下：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7777")]),a._v(":7777 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1080")]),a._v(":1080 dvkunion/seamoon proxy\n")])])]),s("p",[a._v("访问本地控制台 localhost:7777 , 将此地址填入客户端即可。")]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("如何填写地址")]),a._v(" "),s("p",[a._v("填写的代理 sealos 已经明确给出，如: wss:// 或是 grcps://， 如下图：")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/3ff1604871c547d2af492c5fd37428f7.png",alt:"sealos-config-grpc-addr"}})]),a._v(" "),s("p",[a._v("wss 隧道直接复制即可，注意 grpc 服务还需要指定一下端口号，一般都是 443，最终配置如: grpcs://xxxxxxxx.cloud.sealos.io:443。")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/a931e0b42c8748649d5156b2b0884fcb.png",alt:"sealos-config"}})]),a._v(" "),s("h3",{attrs:{id:"效果展示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#效果展示"}},[a._v("#")]),a._v(" 效果展示")]),a._v(" "),s("p",[a._v("[旺柴] 谷歌云的IP访问谷歌简直不能再丝滑")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/ff9eb3ec14fa417daca7a661f9b4ecff.png",alt:"sealos"}})]),a._v(" "),s("p",[a._v("整体带宽在10-30左右，可能和我客户端出口带宽也有关系，应该是普通的带宽。（不过价格也在这里了要啥自行车，反正够用）")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/7bfff588795a4e41b488694ad4eb5153.png",alt:"speed"}})]),a._v(" "),s("p",[a._v("如果不需要多IP，实例副本数目固定为1即可；如果需要多IP，副本越多，获取到的IP就越多。（理性使用）")]),a._v(" "),s("h2",{attrs:{id:"部署到render-免费的永远是最好的去-的免费的-号没了"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署到render-免费的永远是最好的去-的免费的-号没了"}},[a._v("#")]),a._v(" 部署到Render: "),s("s",[a._v("免费的永远是最好的")]),a._v("去**的免费的，号没了")]),a._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[a._v("警告")]),a._v(" "),s("p",[a._v("2024.04.02 更新\n由于封号的问题，在 2.0 的初代版本没有集成自动化部署 render 服务。\n但是你仍可以通过手动部署的方式来")]),a._v(" "),s("p",[a._v("2024.02.02 更新"),s("br"),a._v("\nrender 不但 ban 了 "),s("code",[a._v("seamoon")]),a._v(" 镜像，还把号封了，*** 玩不起就别玩。"),s("br"),a._v("\n虽然还有各种各样的绕过方式，其账户注册起来也不困难，但是可以看出该运营商的顺准了，云计算这么多家，你不声明禁止直接ban号ban镜像有点东西的"),s("br"),a._v("\n也可能是我没仔细看声明，如果有找到的师傅麻烦让我看一下在哪。先喷为敬了。"),s("br"),a._v(" "),s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/4170f495a85d4cc6a6ff64ddedee9c3e.png",alt:"render-ban"}})])]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.render.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Render公有云地址"),s("OutboundLink")],1)]),a._v(" "),s("blockquote",[s("p",[a._v("Render是一个新的PaaS（ Platform as a service）云端服务，也就是说你的代码部署到Render之后，你不用（也不能）去管Linux/firewall/nginx的设定。把你的Github网址给Render，设定一下用鼠标点点点，等个几分钟，你的程序就上线了，全世界都能看到你的网站或是存取你提供的API。"),s("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/377558120",target:"_blank",rel:"noopener noreferrer"}},[a._v("(选自知乎)"),s("OutboundLink")],1)])]),a._v(" "),s("p",[a._v("我们来看一下官方是如何介绍自己的:")]),a._v(" "),s("blockquote",[s("p",[a._v("Build, deploy, and scale your apps with unparalleled ease – from your first user to your billionth.")])]),a._v(" "),s("p",[a._v("其实这些都不重要，重要的是你只需要知道，"),s("s",[s("font",{attrs:{color:"pink"}},[s("b",[a._v("render提供的free套餐完全支持我们部署 seamoon，不需要花费一分钱！")])]),a._v("这就够了，足够我们给他树一个👍。")],1),a._v(" 第二天就封号了的臭SB。")]),a._v(" "),s("h3",{attrs:{id:"如何部署-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何部署-2"}},[a._v("#")]),a._v(" 如何部署")]),a._v(" "),s("p",[a._v("render 部署与 sealos 部署一样简单，在新版本中，我会逐步减少部署步骤，降低这部分交互。")]),a._v(" "),s("h4",{attrs:{id:"step-1-注册账户-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-1-注册账户-2"}},[a._v("#")]),a._v(" Step.1 注册账户")]),a._v(" "),s("p",[a._v("render 账户支持 github / gitlab / google 等一键登陆，建议直接 github 账户登陆即可。")]),a._v(" "),s("p",[a._v("实在不行，他也支持邮箱注册，自己注册一个，此处不再废话。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/7d00a615cd45480bad1b7ade33b7e543.png",alt:"render-register"}})]),a._v(" "),s("h4",{attrs:{id:"step-2-部署-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-2-部署-2"}},[a._v("#")]),a._v(" Step.2 部署")]),a._v(" "),s("p",[a._v("注册账户登陆后，进入控制台，选择创建一个 web service 应用:")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/ffcd48fa203b4959bdde631bdf77610e.png",alt:"render-web-service"}})]),a._v(" "),s("p",[a._v("然后选第二个，从存在的镜像中部署服务：")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/faa0f096dcfa40998b518b5e4de96534.png",alt:"render-web-deploy"}})]),a._v(" "),s("p",[a._v("点击下一步，要求我们填写部署的镜像名称，我们填写："),s("code",[a._v("dvkunion/seamoon")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/3bc5a0437ea94a348f9841864f5c2df3.png",alt:"render-image"}})]),a._v(" "),s("p",[a._v("开始填写详细的应用字段了，我们依次填写：")]),a._v(" "),s("ul",[s("li",[a._v("Name: 应用名称，这个最终会对应生成你的服务域名，因此这里我建议越复杂越好，因为 seamoon 当前版本没有做认证，导致如果服务名称过于简单，很容易被其他人连上。")]),a._v(" "),s("li",[a._v("Region: 地域，选择服务部署的地区，现在支持四个区域：oregon-俄勒冈州(美国西部)、Frankfurt-法兰克福(欧盟)、ohio-俄亥俄州(美国东部)、singapore-新加坡(东亚)")]),a._v(" "),s("li",[a._v("实例类型: 选免费的。")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/160ff4f44e5a4e9d9128269dbc1a3e26.png",alt:"render-config"}})]),a._v(" "),s("p",[a._v("往下滑，看到 Docker Command 填写如下：")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/51fa80f6e4c84ae985bdb23ac8acf673.png",alt:"render-docker"}})]),a._v(" "),s("p",[a._v("完成，点击创建即可。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/158478ce77a84130b43f786670a40c65.png",alt:"render-url"}})]),a._v(" "),s("h4",{attrs:{id:"step-3-本地客户端-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#step-3-本地客户端-2"}},[a._v("#")]),a._v(" Step.3 本地客户端")]),a._v(" "),s("p",[a._v("在本地启动客户端，推荐 docker 一键拉起:")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--net")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("host dvkunion/seamoon proxy\n")])])]),s("p",[a._v("默认使用"),s("code",[a._v("--net=host")]),a._v("模式, 如需要高级设置，如下：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("7777")]),a._v(":7777 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1080")]),a._v(":1080 dvkunion/seamoon proxy\n")])])]),s("p",[a._v("访问本地控制台 localhost:7777 , 将此地址填入客户端即可。")]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("如何填写地址")]),a._v(" "),s("p",[a._v("填写的代理在步骤2已经明确给出，给出的地址是 https:// 开头的，需要改为如: wss://。")]),a._v(" "),s("p",[a._v("grpc目前没有测试是否支持，测试支持后后续会更新文档并补充。")])]),a._v(" "),s("h3",{attrs:{id:"测试效果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#测试效果"}},[a._v("#")]),a._v(" 测试效果")]),a._v(" "),s("p",[a._v("整体机房是 amazon 的，所属地基本正确。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/db670fef7f4f47cd95108a656c28c9a5.png",alt:"render-cip"}})]),a._v(" "),s("p",[a._v("速度的话，也就是正常水平，基本满足日常浏览和视频播放的样子。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://seamoon.oss-cn-hangzhou.aliyuncs.com/80aee46729ca4ecdbda4c244ac26835b.png",alt:"render-speed"}})]),a._v(" "),s("p",[a._v("免费的来说已经是很不错的了。")]),a._v(" "),s("h3",{attrs:{id:"一些小细节问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一些小细节问题"}},[a._v("#")]),a._v(" 一些小细节问题")]),a._v(" "),s("p",[s("font",{attrs:{color:"red"}},[s("b",[a._v("访问不到render/dashboard/github......")])])],1),a._v(" "),s("p",[a._v("我的建议是，先用阿里云等国内方案临时解决访问一下，然后在方案 render 等作为长期持久使用的方案。")]),a._v(" "),s("p",[s("font",{attrs:{color:"red"}},[s("b",[a._v("支持 grpc 吗?")])])],1),a._v(" "),s("p",[a._v("没做测试，个人测试使用的是 websocket 隧道，然后也没有发现官方文档中提到 grpc 相关的，有兴趣的各位可以试一下然后反馈给我。")]),a._v(" "),s("p",[s("font",{attrs:{color:"red"}},[s("b",[a._v("关于动态IP 问题")])])],1),a._v(" "),s("p",[a._v("免费版本的 render 是不支持动态 scaling (动态伸缩扩容) 的，因此，这个方案部署的 seamoon 将会是一个固定 IP。\n只有当 pod 销毁了，或者是你升级了套餐内容 (每月7刀) 才支持 scaling，才可以获取到动态 IP 的方案。")]),a._v(" "),s("p",[a._v('当然，事无绝对，你非要使用 "动态" + "免费" 的方式，也有，通过 api 调用每小时自动删除再创建应用，即可实现这个效果，还可以实现动态的地区变动。。。。')]),a._v(" "),s("p",[a._v("不过人家已经免费了，我不是非常建议这样做了。想要动态的 7刀一个月也不是一个过分的价格了，能支持的还是支持一下。")])],1)}),[],!1,null,null,null);s.default=n.exports}}]);